{"ast":null,"code":"class SMSService {\n  constructor() {\n    this.messages = [];\n    this.listeners = [];\n  }\n  sendSMS(param, message) {\n    // Simulate sending an SMS\n    console.log(`Sending SMS to ${param}: ${message}`);\n    const newMessage = {\n      id: Date.now(),\n      sender: 'Me',\n      recipient: 'System',\n      text: message,\n      timestamp: new Date()\n    };\n    this.messages.push(newMessage);\n    this.notifyListeners();\n\n    // Simulate auto-reply based on keywords\n    this.handleAutoReply(message);\n  }\n  receiveSMS(text) {\n    const newMessage = {\n      id: Date.now() + 1,\n      sender: 'System',\n      recipient: 'Me',\n      text: text,\n      timestamp: new Date()\n    };\n    this.messages.push(newMessage);\n    this.notifyListeners();\n    return newMessage;\n  }\n  handleAutoReply(message) {\n    const lowerMsg = message.toLowerCase();\n    let reply = '';\n    if (lowerMsg.includes('price')) {\n      reply = 'M-5 Update: Rice - ₹2500/Q, Wheat - ₹2100/Q. Prices are stable.';\n    } else if (lowerMsg.includes('help')) {\n      reply = 'M-5 Help: Reply PRICE <CROP> for prices, SELL <CROP> to start listing.';\n    } else {\n      // No auto-reply for unknown commands in this basic mock\n      return;\n    }\n    setTimeout(() => {\n      this.receiveSMS(reply);\n    }, 2000);\n  }\n  subscribe(listener) {\n    this.listeners.push(listener);\n    return () => {\n      this.listeners = this.listeners.filter(l => l !== listener);\n    };\n  }\n  notifyListeners() {\n    this.listeners.forEach(listener => listener(this.messages));\n  }\n  getMessages() {\n    return this.messages;\n  }\n}\nexport const smsService = new SMSService();","map":{"version":3,"names":["SMSService","constructor","messages","listeners","sendSMS","param","message","console","log","newMessage","id","Date","now","sender","recipient","text","timestamp","push","notifyListeners","handleAutoReply","receiveSMS","lowerMsg","toLowerCase","reply","includes","setTimeout","subscribe","listener","filter","l","forEach","getMessages","smsService"],"sources":["C:/Users/vamsi/Multilingual-Digital-Marketplace-and-Decision-Support-Platform-for-Indian-Farmers/src/services/SMSService.js"],"sourcesContent":["class SMSService {\r\n    constructor() {\r\n        this.messages = [];\r\n        this.listeners = [];\r\n    }\r\n\r\n    sendSMS(param, message) {\r\n        // Simulate sending an SMS\r\n        console.log(`Sending SMS to ${param}: ${message}`);\r\n        const newMessage = {\r\n            id: Date.now(),\r\n            sender: 'Me',\r\n            recipient: 'System',\r\n            text: message,\r\n            timestamp: new Date()\r\n        };\r\n        this.messages.push(newMessage);\r\n        this.notifyListeners();\r\n\r\n        // Simulate auto-reply based on keywords\r\n        this.handleAutoReply(message);\r\n    }\r\n\r\n    receiveSMS(text) {\r\n        const newMessage = {\r\n            id: Date.now() + 1,\r\n            sender: 'System',\r\n            recipient: 'Me',\r\n            text: text,\r\n            timestamp: new Date()\r\n        };\r\n        this.messages.push(newMessage);\r\n        this.notifyListeners();\r\n        return newMessage;\r\n    }\r\n\r\n    handleAutoReply(message) {\r\n        const lowerMsg = message.toLowerCase();\r\n        let reply = '';\r\n\r\n        if (lowerMsg.includes('price')) {\r\n            reply = 'M-5 Update: Rice - ₹2500/Q, Wheat - ₹2100/Q. Prices are stable.';\r\n        } else if (lowerMsg.includes('help')) {\r\n            reply = 'M-5 Help: Reply PRICE <CROP> for prices, SELL <CROP> to start listing.';\r\n        } else {\r\n            // No auto-reply for unknown commands in this basic mock\r\n            return;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.receiveSMS(reply);\r\n        }, 2000);\r\n    }\r\n\r\n    subscribe(listener) {\r\n        this.listeners.push(listener);\r\n        return () => {\r\n            this.listeners = this.listeners.filter(l => l !== listener);\r\n        };\r\n    }\r\n\r\n    notifyListeners() {\r\n        this.listeners.forEach(listener => listener(this.messages));\r\n    }\r\n\r\n    getMessages() {\r\n        return this.messages;\r\n    }\r\n}\r\n\r\nexport const smsService = new SMSService();\r\n"],"mappings":"AAAA,MAAMA,UAAU,CAAC;EACbC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,SAAS,GAAG,EAAE;EACvB;EAEAC,OAAOA,CAACC,KAAK,EAAEC,OAAO,EAAE;IACpB;IACAC,OAAO,CAACC,GAAG,CAAC,kBAAkBH,KAAK,KAAKC,OAAO,EAAE,CAAC;IAClD,MAAMG,UAAU,GAAG;MACfC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,MAAM,EAAE,IAAI;MACZC,SAAS,EAAE,QAAQ;MACnBC,IAAI,EAAET,OAAO;MACbU,SAAS,EAAE,IAAIL,IAAI,CAAC;IACxB,CAAC;IACD,IAAI,CAACT,QAAQ,CAACe,IAAI,CAACR,UAAU,CAAC;IAC9B,IAAI,CAACS,eAAe,CAAC,CAAC;;IAEtB;IACA,IAAI,CAACC,eAAe,CAACb,OAAO,CAAC;EACjC;EAEAc,UAAUA,CAACL,IAAI,EAAE;IACb,MAAMN,UAAU,GAAG;MACfC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC;MAClBC,MAAM,EAAE,QAAQ;MAChBC,SAAS,EAAE,IAAI;MACfC,IAAI,EAAEA,IAAI;MACVC,SAAS,EAAE,IAAIL,IAAI,CAAC;IACxB,CAAC;IACD,IAAI,CAACT,QAAQ,CAACe,IAAI,CAACR,UAAU,CAAC;IAC9B,IAAI,CAACS,eAAe,CAAC,CAAC;IACtB,OAAOT,UAAU;EACrB;EAEAU,eAAeA,CAACb,OAAO,EAAE;IACrB,MAAMe,QAAQ,GAAGf,OAAO,CAACgB,WAAW,CAAC,CAAC;IACtC,IAAIC,KAAK,GAAG,EAAE;IAEd,IAAIF,QAAQ,CAACG,QAAQ,CAAC,OAAO,CAAC,EAAE;MAC5BD,KAAK,GAAG,iEAAiE;IAC7E,CAAC,MAAM,IAAIF,QAAQ,CAACG,QAAQ,CAAC,MAAM,CAAC,EAAE;MAClCD,KAAK,GAAG,wEAAwE;IACpF,CAAC,MAAM;MACH;MACA;IACJ;IAEAE,UAAU,CAAC,MAAM;MACb,IAAI,CAACL,UAAU,CAACG,KAAK,CAAC;IAC1B,CAAC,EAAE,IAAI,CAAC;EACZ;EAEAG,SAASA,CAACC,QAAQ,EAAE;IAChB,IAAI,CAACxB,SAAS,CAACc,IAAI,CAACU,QAAQ,CAAC;IAC7B,OAAO,MAAM;MACT,IAAI,CAACxB,SAAS,GAAG,IAAI,CAACA,SAAS,CAACyB,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKF,QAAQ,CAAC;IAC/D,CAAC;EACL;EAEAT,eAAeA,CAAA,EAAG;IACd,IAAI,CAACf,SAAS,CAAC2B,OAAO,CAACH,QAAQ,IAAIA,QAAQ,CAAC,IAAI,CAACzB,QAAQ,CAAC,CAAC;EAC/D;EAEA6B,WAAWA,CAAA,EAAG;IACV,OAAO,IAAI,CAAC7B,QAAQ;EACxB;AACJ;AAEA,OAAO,MAAM8B,UAAU,GAAG,IAAIhC,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}