{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vamsi\\\\Multilingual-Digital-Marketplace-and-Decision-Support-Platform-for-Indian-Farmers\\\\src\\\\components\\\\SMSSimulator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { smsService } from '../services/SMSService';\nimport Button from './ui/Button';\nimport { Send, MessageSquare } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SMSSimulator = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const messagesEndRef = useRef(null);\n  const [isOpen, setIsOpen] = useState(false);\n  useEffect(() => {\n    const unsubscribe = smsService.subscribe(msgs => {\n      setMessages([...msgs]);\n    });\n    return () => unsubscribe();\n  }, []);\n  useEffect(() => {\n    if (isOpen && messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [messages, isOpen]);\n  const handleSend = e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    smsService.sendSMS('System', input);\n    setInput('');\n  };\n  if (!isOpen) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(true),\n      className: \"fixed bottom-6 right-6 bg-emerald-600 text-white p-4 rounded-full shadow-2xl hover:bg-emerald-700 transition-all z-50 animate-bounce-slow\",\n      children: /*#__PURE__*/_jsxDEV(MessageSquare, {\n        className: \"w-6 h-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-6 right-6 w-80 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden z-50 flex flex-col h-[500px] animate-slide-up\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-emerald-600 p-4 text-white flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), \" SMS Simulator\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsOpen(false),\n        className: \"hover:bg-emerald-700 p-1 rounded\",\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-4\",\n      children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-400 text-sm mt-10\",\n        children: \"Try sending \\\"PRICE RICE\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${msg.sender === 'Me' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-[80%] p-3 rounded-2xl text-sm ${msg.sender === 'Me' ? 'bg-emerald-600 text-white rounded-tr-none' : 'bg-white border border-gray-200 text-gray-800 rounded-tl-none shadow-sm'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-xs block mt-1 ${msg.sender === 'Me' ? 'text-emerald-100' : 'text-gray-400'}`,\n            children: msg.timestamp.toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSend,\n      className: \"p-3 bg-white border-t border-gray-100 flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Type SMS...\",\n        className: \"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        size: \"sm\",\n        className: \"px-3\",\n        disabled: !input.trim(),\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          className: \"w-4 h-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(SMSSimulator, \"kMfH2dh3ebioyGHTLAXLaKPbpz8=\");\n_c = SMSSimulator;\nexport default SMSSimulator;\nvar _c;\n$RefreshReg$(_c, \"SMSSimulator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","smsService","Button","Send","MessageSquare","jsxDEV","_jsxDEV","SMSSimulator","_s","messages","setMessages","input","setInput","messagesEndRef","isOpen","setIsOpen","unsubscribe","subscribe","msgs","current","scrollIntoView","behavior","handleSend","e","preventDefault","trim","sendSMS","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","msg","sender","text","timestamp","toLocaleTimeString","hour","minute","id","ref","onSubmit","type","value","onChange","target","placeholder","size","disabled","_c","$RefreshReg$"],"sources":["C:/Users/vamsi/Multilingual-Digital-Marketplace-and-Decision-Support-Platform-for-Indian-Farmers/src/components/SMSSimulator.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { smsService } from '../services/SMSService';\r\nimport Button from './ui/Button';\r\nimport { Send, MessageSquare } from 'lucide-react';\r\n\r\nconst SMSSimulator = () => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState('');\r\n    const messagesEndRef = useRef(null);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = smsService.subscribe((msgs) => {\r\n            setMessages([...msgs]);\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isOpen && messagesEndRef.current) {\r\n            messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n    }, [messages, isOpen]);\r\n\r\n    const handleSend = (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim()) return;\r\n        smsService.sendSMS('System', input);\r\n        setInput('');\r\n    };\r\n\r\n    if (!isOpen) {\r\n        return (\r\n            <button\r\n                onClick={() => setIsOpen(true)}\r\n                className=\"fixed bottom-6 right-6 bg-emerald-600 text-white p-4 rounded-full shadow-2xl hover:bg-emerald-700 transition-all z-50 animate-bounce-slow\"\r\n            >\r\n                <MessageSquare className=\"w-6 h-6\" />\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed bottom-6 right-6 w-80 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden z-50 flex flex-col h-[500px] animate-slide-up\">\r\n            {/* Header */}\r\n            <div className=\"bg-emerald-600 p-4 text-white flex justify-between items-center\">\r\n                <h3 className=\"font-semibold flex items-center gap-2\">\r\n                    <MessageSquare className=\"w-5 h-5\" /> SMS Simulator\r\n                </h3>\r\n                <button onClick={() => setIsOpen(false)} className=\"hover:bg-emerald-700 p-1 rounded\">\r\n                    âœ•\r\n                </button>\r\n            </div>\r\n\r\n            {/* Messages Area */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-4\">\r\n                {messages.length === 0 && (\r\n                    <div className=\"text-center text-gray-400 text-sm mt-10\">\r\n                        Try sending \"PRICE RICE\"\r\n                    </div>\r\n                )}\r\n                {messages.map((msg) => (\r\n                    <div\r\n                        key={msg.id}\r\n                        className={`flex ${msg.sender === 'Me' ? 'justify-end' : 'justify-start'}`}\r\n                    >\r\n                        <div\r\n                            className={`max-w-[80%] p-3 rounded-2xl text-sm ${msg.sender === 'Me'\r\n                                    ? 'bg-emerald-600 text-white rounded-tr-none'\r\n                                    : 'bg-white border border-gray-200 text-gray-800 rounded-tl-none shadow-sm'\r\n                                }`}\r\n                        >\r\n                            <p>{msg.text}</p>\r\n                            <span className={`text-xs block mt-1 ${msg.sender === 'Me' ? 'text-emerald-100' : 'text-gray-400'}`}>\r\n                                {msg.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Input Area */}\r\n            <form onSubmit={handleSend} className=\"p-3 bg-white border-t border-gray-100 flex gap-2\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={input}\r\n                    onChange={(e) => setInput(e.target.value)}\r\n                    placeholder=\"Type SMS...\"\r\n                    className=\"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm\"\r\n                />\r\n                <Button type=\"submit\" size=\"sm\" className=\"px-3\" disabled={!input.trim()}>\r\n                    <Send className=\"w-4 h-4\" />\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SMSSimulator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}